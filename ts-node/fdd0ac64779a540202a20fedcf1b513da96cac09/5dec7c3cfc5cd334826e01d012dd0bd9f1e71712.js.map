{"version":3,"file":"/home/pioneer/work/jason/actodo_api/src/db/bookshelf.ts","sources":["/home/pioneer/work/jason/actodo_api/src/db/bookshelf.ts"],"names":[],"mappings":";AAAA,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;AACzC,MAAM,MAAM,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC,WAAW,CAAC,CAAC;AAC9C,QAAA,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;AAE1C,IAAI,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAErC,uCAAuC;AACvC,+BAA+B;AAC/B,kDAAkD;AAElD,4CAA4C;AAC5C,6BAA6B;AAC7B,sBAAsB;AACtB,QAAQ;AACR,MAAM;AACN,KAAK;AACL,SAAS,CAAC,UAAU,GAAG,UAAS,GAAG,EAAE,OAAO;IAC1C,MAAM,CAAC,GAAG,KAAK,SAAS,CAAC;AAC3B,CAAC,CAAA;AACD,IAAI,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,YAAI,CAAC,CAAC;AAC3C,SAAS,CAAC,MAAM,CAAC,oBAAoB,EAAE;IACrC,SAAS,EAAE,SAAS;IACpB,cAAc,EAAE,IAAI;CACrB,CAAC,CAAC;;AACH,kBAAe,SAAS,CAAC","sourcesContent":["const environment = process.env.NODE_ENV;\nconst config = require('../../knexfile.js')[environment];\nexport var knex = require('knex')(config);\n\nvar validator = require('validator');\n\n// validator.isPrime = function (str) {\n//   var value = parseInt(str);\n//   if (value === NaN || value < 2) return false;\n\n//   for (var i = 2; i <= value >> 1; i++) {\n//     if (value % i === 0) {\n//       return false;\n//     }\n//   }\n// };\nvalidator.isRequired = function(str, options){\n  return str !== undefined;\n}\nvar bookshelf = require('bookshelf')(knex);\nbookshelf.plugin('bookshelf-validate', {\n  validator: validator,\n  validateOnSave: true \n});\nexport default bookshelf;"]}